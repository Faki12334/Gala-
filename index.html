<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Afterwork Galapagos</title>
  <style>
    body { font-family: 'Segoe UI', sans-serif; padding: 30px; background: #f1f8ff; color: #333; }
    h1, h3 { color: #005f73; }
    label, input { display: block; margin-top: 10px; }
    input[type="number"], input[type="text"] { width: 80px; padding: 5px; margin-top: 5px; }
    button { margin-top: 20px; padding: 10px 20px; font-size: 16px; cursor: pointer; background: #0077b6; color: white; border: none; border-radius: 5px; }
    #result { margin-top: 30px; padding: 15px; background: #ffffff; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
    #countdown { margin-top: 30px; font-size: 18px; background: #caf0f8; padding: 15px; border-radius: 10px; text-align: center; }
  </style>
</head>
<body>
  <h1>Formulaire Afterwork Galapagos</h1>

  <label>Prénom :</label>
  <input type="text" id="name" placeholder="Votre prénom" required>

  <h3>Boissons</h3>
  <label>Bière blonde (3€) <input type="number" id="biereBlonde" min="0" value="0"></label>
  <label>Bière rouge (3.5€) <input type="number" id="biereRouge" min="0" value="0"></label>
  <label>Soft (1€) <input type="number" id="soft" min="0" value="0"></label>
  <label>Monaco (2.5€) <input type="number" id="monaco" min="0" value="0"></label>
  <label>Monaco soft (1.5€) <input type="number" id="monacoSoft" min="0" value="0"></label>

  <h3>Repas</h3>
  <label>Tortillas (1€ pièce, 3 pour 2.5€) <input type="number" id="tortillas" min="0" value="0"></label>
  <label>Chips au fromage (1€) <input type="number" id="chips" min="0" value="0"></label>

  <button onclick="calculer()">Calculer le montant</button>

  <div id="result"></div>

  <div id="countdown"></div>

  <script>
    function calculer() {
      const name = document.getElementById('name').value.trim();
      const biereBlonde = +document.getElementById('biereBlonde').value;
      const biereRouge = +document.getElementById('biereRouge').value;
      const soft = +document.getElementById('soft').value;
      const monaco = +document.getElementById('monaco').value;
      const monacoSoft = +document.getElementById('monacoSoft').value;
      const tortillas = +document.getElementById('tortillas').value;
      const chips = +document.getElementById('chips').value;

      if (!name) {
        alert("Merci d'entrer votre prénom.");
        return;
      }

      let total = 0;
      total += biereBlonde * 3;
      total += biereRouge * 3.5;
      total += soft * 1;
      total += monaco * 2.5;
      total += monacoSoft * 1.5;
      total += chips * 1;

      const lotsDe3 = Math.floor(tortillas / 3);
      const reste = tortillas % 3;
      total += lotsDe3 * 2.5 + reste * 1;

      total = total.toFixed(2);

      const numero = '07 82 77 91 05';
      const message = Payement Afterwork ${name};

      document.getElementById("result").innerHTML = `
        <strong>Montant à envoyer :</strong> ${total} €<br>
        <strong>À :</strong> ${numero}<br>
        <strong>Message :</strong> ${message}<br><br>
        <a href="lydia://" style="color: white; background: #00b894; padding: 10px 15px; border-radius: 6px; text-decoration: none; display: inline-block;">Ouvrir l'application Lydia</a>
      `;
    }

    // Countdown jusqu'au 15 mai
    const countdownContainer = document.getElementById("countdown");
    const targetDate = new Date("2025-05-15T00:00:00").getTime();

    const interval = setInterval(() => {
      const now = new Date().getTime();
      const distance = targetDate - now;

      if (distance < 0) {
        clearInterval(interval);
        countdownContainer.innerHTML = "Le nom du Gala a été révélé !";
        return;
      }

      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((distance % (1000 * 60)) / 1000);

      countdownContainer.innerHTML = <strong>Révélation du nom du Gala dans :</strong><br> ${days} j ${hours} h ${minutes} min ${seconds} s;
    }, 1000);
  </script>
</body>
</html>
